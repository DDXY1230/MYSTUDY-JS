<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <form action="">
        <!-- maxlength输入的字长字符串不能超过5 -->
        <input type="text" required id="text" maxlength="5">
        <input type="range" value="0" min="0" max="10" step="2">
        <input type="submit">
    </form>
</body>
<script>
    let oText = document.getElementById('text')
    oText.addEventListener('invalid', fn, false)

    function fn(e) {
        console.log(this.validity)
        console.log(this.validity.valid) // false 不通过
        let ev = e || event
        ev.preventDefault()
    }
    // validity有一下部分属性
    // badInput: false
    // customError: false // 不符合自定义验证时返回true
    // patternMismatch: false
    // rangeOverflow: false
    // rangeUnderflow: false // range验证value是否小于min
    // stepMismatch: false
    // tooLong: false // 当用户的输入的内容长度超过maxlength 返回true
    // tooShort: false
    // typeMismatch: false // 当输入类型和要求的类型不一致时返回true
    // valid: false //规则正确是返回true
    // valueMissing: true   // 当输入值为空的时候返回true

    // 自定义验证
    oText.oninput = function() {
        if(this.value === '敏感词') {
            this.setCustomValidity('请不要输入敏感词')
        }else {
            console.log('验证通过')
        }
    }
</script>

</html>